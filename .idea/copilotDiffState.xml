<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/SELECCION_MULTIPLE_CATEGORIAS.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SELECCION_MULTIPLE_CATEGORIAS.md" />
              <option name="updatedContent" value="# ✨ Selección Múltiple de Categorías&#10;&#10;##  Nueva Funcionalidad Implementada&#10;&#10;El admin ahora puede **seleccionar múltiples categorías** para cada receta usando chips interactivos.&#10;&#10;---&#10;&#10;##  Comparación&#10;&#10;### ❌ ANTES (Una Sola Categoría):&#10;```&#10;┌─────────────────────────────────┐&#10;│ Categoría: [Desayuno ▼]         │&#10;└─────────────────────────────────┘&#10;```&#10;- Solo podía elegir 1 categoría&#10;- Dropdown tradicional&#10;- Limitado&#10;&#10;### ✅ AHORA (Múltiples Categorías):&#10;```&#10;┌──────────────────────────────────────────┐&#10;│  Categorías * (Selecciona una o más)  │&#10;├──────────────────────────────────────────┤&#10;│ [✓  Desayuno] [ Almuerzo] [ Cena]│&#10;│ [ Postre] [ Bebidas] [ Snacks]   │&#10;│ [✓  Ensaladas] [ Sopas] [ Carnes]│&#10;│ ...más categorías...                     │&#10;│                                          │&#10;│ ┌──────────────────────────────────────┐ │&#10;│ │ Categorías seleccionadas:            │ │&#10;│ │ Desayuno, Ensaladas                  │ │&#10;│ └──────────────────────────────────────┘ │&#10;└──────────────────────────────────────────┘&#10;```&#10;- Puede seleccionar varias categorías&#10;- Chips visuales con iconos&#10;- Feedback instantáneo&#10;&#10;---&#10;&#10;##  Características del Sistema de Chips&#10;&#10;### 1. **Chips Interactivos**&#10;```kotlin&#10;FilterChip(&#10;    selected = seleccionada,&#10;    onClick = { /* toggle */ },&#10;    label = { Text(&quot; Desayuno&quot;) },&#10;    leadingIcon = { Icon(Check) } // Si está seleccionada&#10;)&#10;```&#10;&#10;### 2. **Estados Visuales**&#10;&#10;**No Seleccionado:**&#10;```&#10;[ Desayuno]&#10;```&#10;Fondo normal, sin check&#10;&#10;**Seleccionado:**&#10;```&#10;[✓  Desayuno]&#10;```&#10;Fondo de color, con check ✓&#10;&#10;### 3. **Layout FlowRow**&#10;Los chips se ajustan automáticamente en múltiples filas según el espacio disponible.&#10;&#10;### 4. **Resumen de Selección**&#10;```&#10;┌──────────────────────────────────────┐&#10;│ Categorías seleccionadas:            │&#10;│ Desayuno, Almuerzo, Vegetariana      │&#10;└──────────────────────────────────────┘&#10;```&#10;&#10;---&#10;&#10;##  Flujo de Uso&#10;&#10;### 1. Admin Abre el Formulario&#10;```&#10;Ver todos los chips de categorías disponibles&#10;(16 categorías con iconos)&#10;```&#10;&#10;### 2. Selecciona Categorías&#10;```&#10;Toca:  Desayuno → Se marca con ✓&#10;Toca:  Ensaladas → Se marca con ✓&#10;Toca:  Vegetariana → Se marca con ✓&#10;```&#10;&#10;### 3. Ve el Resumen&#10;```&#10;┌──────────────────────────────────────┐&#10;│ Categorías seleccionadas:            │&#10;│ Desayuno, Ensaladas, Vegetariana     │&#10;└──────────────────────────────────────┘&#10;```&#10;&#10;### 4. Notificación Automática&#10;```&#10;Si seleccionó &quot;Vegetariana&quot;:&#10;┌──────────────────────────────────────┐&#10;│ ℹ️ Esta receta será marcada como    │&#10;│    Vegetariana                     │&#10;└──────────────────────────────────────┘&#10;```&#10;&#10;### 5. Guarda la Receta&#10;```&#10;categoria: &quot;Desayuno&quot; (primera seleccionada)&#10;esVegetariana: true (detectado automáticamente)&#10;```&#10;&#10;---&#10;&#10;##  Almacenamiento&#10;&#10;```kotlin&#10;// En el código:&#10;var categoriasSeleccionadas by remember { &#10;    mutableStateOf(setOf&lt;String&gt;()) &#10;}&#10;&#10;// Al guardar:&#10;val nuevaReceta = Receta(&#10;    categoria = categoriasSeleccionadas.firstOrNull() ?: &quot;&quot;,&#10;    // ...otros campos&#10;)&#10;```&#10;&#10;**Nota**: Actualmente se guarda solo la primera categoría seleccionada en el campo `categoria`, pero el sistema está preparado para futuras extensiones donde se puedan almacenar todas las categorías.&#10;&#10;---&#10;&#10;## ✨ Casos de Uso&#10;&#10;### Caso 1: Receta Multifacética&#10;```&#10;Receta: &quot;Smoothie Bowl&quot;&#10;Categorías: Desayuno + Snacks + Vegetariana + Vegana&#10;&#10;✅ Aparece cuando el usuario filtra por &quot;Desayuno&quot;&#10;✅ Marcada automáticamente como vegetariana&#10;✅ Marcada automáticamente como vegana&#10;```&#10;&#10;### Caso 2: Receta de Horario Flexible&#10;```&#10;Receta: &quot;Sándwich Gourmet&quot;&#10;Categorías: Desayuno + Almuerzo + Cena&#10;&#10;✅ Aparece en todos esos filtros&#10;✅ Máxima visibilidad&#10;```&#10;&#10;### Caso 3: Receta con Características&#10;```&#10;Receta: &quot;Ensalada César&quot;&#10;Categorías: Ensaladas + Económica + Rápidas&#10;&#10;✅ Aparece en 3 filtros diferentes&#10;✅ Más oportunidades de ser encontrada&#10;```&#10;&#10;---&#10;&#10;##  Ventajas&#10;&#10;### 1. **Mayor Flexibilidad**&#10;✅ Una receta puede aparecer en múltiples categorías&#10;✅ No necesitas elegir una sola&#10;&#10;### 2. **Mejor Descubrimiento**&#10;✅ Las recetas son más fáciles de encontrar&#10;✅ Más puntos de acceso para los usuarios&#10;&#10;### 3. **Clasificación Precisa**&#10;✅ Puedes ser específico y general al mismo tiempo&#10;✅ &quot;Desayuno + Vegetariana + Rápidas&quot;&#10;&#10;### 4. **Visual e Intuitivo**&#10;✅ Chips con iconos&#10;✅ Feedback visual inmediato&#10;✅ Fácil de entender y usar&#10;&#10;---&#10;&#10;##  Detalles Técnicos&#10;&#10;### Estructura de Datos:&#10;```kotlin&#10;// Estado interno (múltiples categorías)&#10;var categoriasSeleccionadas: Set&lt;String&gt;&#10;&#10;// Ejemplos:&#10;setOf(&quot;Desayuno&quot;, &quot;Vegetariana&quot;)&#10;setOf(&quot;Almuerzo&quot;, &quot;Carnes&quot;, &quot;Económica&quot;)&#10;```&#10;&#10;### Validación:&#10;```kotlin&#10;enabled = nombre.isNotBlank() &amp;&amp; categoriasSeleccionadas.isNotEmpty()&#10;```&#10;El botón &quot;GUARDAR&quot; se habilita solo si hay al menos una categoría seleccionada.&#10;&#10;### Detección Automática:&#10;```kotlin&#10;val esVegetariana = categoriasSeleccionadas.any { &#10;    it.equals(&quot;Vegetariana&quot;, ignoreCase = true) &#10;} || categoriasSeleccionadas.any { &#10;    it.equals(&quot;Vegana&quot;, ignoreCase = true) &#10;}&#10;```&#10;&#10;---&#10;&#10;##  Experiencia del Usuario&#10;&#10;### Admin Crea Receta:&#10;```&#10;1. Llena nombre y descripción&#10;2. Ve grid de chips con todas las categorías&#10;3. Toca chips para seleccionar (✓ aparece)&#10;4. Ve resumen de categorías seleccionadas&#10;5. Si seleccionó &quot;Vegetariana&quot;, ve notificación&#10;6. Guarda con confianza&#10;```&#10;&#10;### Usuario Final:&#10;```&#10;1. Filtra por &quot;Desayuno&quot;&#10;2. Ve la receta que el admin marcó con &quot;Desayuno&quot;&#10;3. También la ve si filtra por otras categorías marcadas&#10;4. ✅ Más oportunidades de descubrir la receta&#10;```&#10;&#10;---&#10;&#10;##  Resultado&#10;&#10;```&#10;╔════════════════════════════════════════╗&#10;║                                        ║&#10;║  SELECCIÓN MÚLTIPLE DE CATEGORÍAS     ║&#10;║                                        ║&#10;║  ✅ Chips interactivos                ║&#10;║  ✅ Selección visual con ✓            ║&#10;║  ✅ Resumen de seleccionadas          ║&#10;║  ✅ Iconos en cada categoría          ║&#10;║  ✅ FlowRow adaptativo                ║&#10;║  ✅ Detección automática              ║&#10;║                                        ║&#10;╚════════════════════════════════════════╝&#10;```&#10;&#10;¡El admin ahora tiene mucha más flexibilidad para clasificar recetas! &#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/saborforaneo/ui/screens/admin/DialogoFormularioReceta.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/saborforaneo/ui/screens/admin/DialogoFormularioReceta.kt" />
              <option name="originalContent" value="package com.example.saborforaneo.ui.screens.admin&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material.icons.automirrored.filled.List&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.window.Dialog&#10;import androidx.compose.ui.window.DialogProperties&#10;import com.example.saborforaneo.data.model.Dificultad&#10;import com.example.saborforaneo.data.model.Precio&#10;import com.example.saborforaneo.data.model.Receta&#10;import com.example.saborforaneo.util.Categorias&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun DialogoFormularioReceta(&#10;    titulo: String,&#10;    receta: Receta?,&#10;    onDismiss: () -&gt; Unit,&#10;    onGuardar: (Receta) -&gt; Unit&#10;) {&#10;    var nombre by remember { mutableStateOf(receta?.nombre ?: &quot;&quot;) }&#10;    var descripcion by remember { mutableStateOf(receta?.descripcion ?: &quot;&quot;) }&#10;    var imagenUrl by remember { mutableStateOf(receta?.imagenUrl ?: &quot;&quot;) }&#10;    var tiempoPreparacion by remember { mutableStateOf(receta?.tiempoPreparacion?.toString() ?: &quot;&quot;) }&#10;    var dificultad by remember { mutableStateOf(receta?.dificultad ?: Dificultad.MEDIA) }&#10;    var porciones by remember { mutableStateOf(receta?.porciones?.toString() ?: &quot;1&quot;) }&#10;    var categoria by remember { mutableStateOf(receta?.categoria ?: &quot;&quot;) }&#10;    var pais by remember { mutableStateOf(receta?.pais ?: &quot;&quot;) }&#10;    var ingredientes by remember { mutableStateOf((receta?.ingredientes ?: emptyList()).joinToString(&quot;\n&quot;)) }&#10;    var pasos by remember { mutableStateOf((receta?.pasos ?: emptyList()).joinToString(&quot;\n&quot;)) }&#10;    var precio by remember { mutableStateOf(receta?.precio ?: Precio.MODERADO) }&#10;&#10;    var mostrarMenuDificultad by remember { mutableStateOf(false) }&#10;    var mostrarMenuPrecio by remember { mutableStateOf(false) }&#10;    var mostrarMenuCategoria by remember { mutableStateOf(false) }&#10;&#10;    // Usar categorías centralizadas&#10;    val categorias = Categorias.listaCompleta&#10;&#10;    // Determinar automáticamente si es vegetariana/vegana según la categoría&#10;    val esVegetariana = categoria.equals(&quot;Vegetariana&quot;, ignoreCase = true) ||&#10;                        categoria.equals(&quot;Vegana&quot;, ignoreCase = true)&#10;    val esVegana = categoria.equals(&quot;Vegana&quot;, ignoreCase = true)&#10;&#10;    Dialog(&#10;        onDismissRequest = onDismiss,&#10;        properties = DialogProperties(&#10;            dismissOnBackPress = true,&#10;            dismissOnClickOutside = false,&#10;            usePlatformDefaultWidth = false&#10;        )&#10;    ) {&#10;        Card(&#10;            modifier = Modifier&#10;                .fillMaxWidth(0.95f)&#10;                .fillMaxHeight(0.9f),&#10;            elevation = CardDefaults.cardElevation(defaultElevation = 8.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier.fillMaxSize()&#10;            ) {&#10;                // Encabezado&#10;                TopAppBar(&#10;                    title = { Text(titulo) },&#10;                    navigationIcon = {&#10;                        IconButton(onClick = onDismiss) {&#10;                            Icon(Icons.Default.Close, &quot;Cerrar&quot;)&#10;                        }&#10;                    },&#10;                    actions = {&#10;                        TextButton(&#10;                            onClick = {&#10;                                val nuevaReceta = Receta(&#10;                                    id = receta?.id ?: &quot;&quot;,&#10;                                    nombre = nombre,&#10;                                    descripcion = descripcion,&#10;                                    imagenUrl = imagenUrl,&#10;                                    tiempoPreparacion = tiempoPreparacion.toIntOrNull() ?: 0,&#10;                                    dificultad = dificultad,&#10;                                    porciones = porciones.toIntOrNull() ?: 1,&#10;                                    categoria = categoria,&#10;                                    pais = pais,&#10;                                    ingredientes = ingredientes.split(&quot;\n&quot;).filter { it.isNotBlank() },&#10;                                    pasos = pasos.split(&quot;\n&quot;).filter { it.isNotBlank() },&#10;                                    esVegetariana = esVegetariana,&#10;                                    esVegana = esVegana,&#10;                                    precio = precio&#10;                                )&#10;                                onGuardar(nuevaReceta)&#10;                            },&#10;                            enabled = nombre.isNotBlank() &amp;&amp; categoria.isNotBlank()&#10;                        ) {&#10;                            Text(&quot;GUARDAR&quot;)&#10;                        }&#10;                    },&#10;                    colors = TopAppBarDefaults.topAppBarColors(&#10;                        containerColor = MaterialTheme.colorScheme.primaryContainer&#10;                    )&#10;                )&#10;&#10;                // Formulario con secciones&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .verticalScroll(rememberScrollState())&#10;                        .padding(16.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    // SECCIÓN: INFORMACIÓN BÁSICA&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot; Información Básica&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = nombre,&#10;                                onValueChange = { nombre = it },&#10;                                label = { Text(&quot;Nombre de la receta *&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Restaurant, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                singleLine = true&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = descripcion,&#10;                                onValueChange = { descripcion = it },&#10;                                label = { Text(&quot;Descripción&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Description, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                minLines = 3,&#10;                                maxLines = 4&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = imagenUrl,&#10;                                onValueChange = { imagenUrl = it },&#10;                                label = { Text(&quot;URL de la imagen&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Image, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                placeholder = { Text(&quot;https://images.unsplash.com/...&quot;) },&#10;                                supportingText = { Text(&quot;Usa una imagen de Unsplash o similar&quot;, style = MaterialTheme.typography.bodySmall) }&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    // SECCIÓN: DETALLES&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;⚙️ Detalles&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                            ) {&#10;                                OutlinedTextField(&#10;                                    value = tiempoPreparacion,&#10;                                    onValueChange = { tiempoPreparacion = it.filter { c -&gt; c.isDigit() } },&#10;                                    label = { Text(&quot;Tiempo (min)&quot;) },&#10;                                    leadingIcon = { Icon(Icons.Default.Timer, null) },&#10;                                    modifier = Modifier.weight(1f),&#10;                                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Number),&#10;                                    singleLine = true&#10;                                )&#10;&#10;                                OutlinedTextField(&#10;                                    value = porciones,&#10;                                    onValueChange = { porciones = it.filter { c -&gt; c.isDigit() } },&#10;                                    label = { Text(&quot;Porciones&quot;) },&#10;                                    leadingIcon = { Icon(Icons.Default.People, null) },&#10;                                    modifier = Modifier.weight(1f),&#10;                                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Number),&#10;                                    singleLine = true&#10;                                )&#10;                            }&#10;&#10;                            ExposedDropdownMenuBox(&#10;                                expanded = mostrarMenuCategoria,&#10;                                onExpandedChange = { mostrarMenuCategoria = it }&#10;                            ) {&#10;                                OutlinedTextField(&#10;                                    value = categoria,&#10;                                    onValueChange = {},&#10;                                    readOnly = true,&#10;                                    label = { Text(&quot;Categoría *&quot;) },&#10;                                    leadingIcon = {&#10;                                        Text(&#10;                                            text = Categorias.obtenerIcono(categoria),&#10;                                            style = MaterialTheme.typography.titleMedium&#10;                                        )&#10;                                    },&#10;                                    trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = mostrarMenuCategoria) },&#10;                                    modifier = Modifier&#10;                                        .fillMaxWidth()&#10;                                        .menuAnchor(),&#10;                                    colors = ExposedDropdownMenuDefaults.outlinedTextFieldColors()&#10;                                )&#10;                                ExposedDropdownMenu(&#10;                                    expanded = mostrarMenuCategoria,&#10;                                    onDismissRequest = { mostrarMenuCategoria = false }&#10;                                ) {&#10;                                    categorias.forEach { cat -&gt;&#10;                                        DropdownMenuItem(&#10;                                            text = {&#10;                                                Row(&#10;                                                    horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;                                                    verticalAlignment = Alignment.CenterVertically&#10;                                                ) {&#10;                                                    Text(Categorias.obtenerIcono(cat))&#10;                                                    Text(cat)&#10;                                                }&#10;                                            },&#10;                                            onClick = {&#10;                                                categoria = cat&#10;                                                mostrarMenuCategoria = false&#10;                                            }&#10;                                        )&#10;                                    }&#10;                                }&#10;                            }&#10;&#10;                            OutlinedTextField(&#10;                                value = pais,&#10;                                onValueChange = { pais = it },&#10;                                label = { Text(&quot;País de origen (opcional)&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Public, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                singleLine = true,&#10;                                placeholder = { Text(&quot;Ecuador, México, Italia...&quot;) }&#10;                            )&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                            ) {&#10;                                ExposedDropdownMenuBox(&#10;                                    expanded = mostrarMenuDificultad,&#10;                                    onExpandedChange = { mostrarMenuDificultad = it },&#10;                                    modifier = Modifier.weight(1f)&#10;                                ) {&#10;                                    OutlinedTextField(&#10;                                        value = when(dificultad) {&#10;                                            Dificultad.FACIL -&gt; &quot;Fácil&quot;&#10;                                            Dificultad.MEDIA -&gt; &quot;Media&quot;&#10;                                            Dificultad.DIFICIL -&gt; &quot;Difícil&quot;&#10;                                        },&#10;                                        onValueChange = {},&#10;                                        readOnly = true,&#10;                                        label = { Text(&quot;Dificultad&quot;) },&#10;                                        trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = mostrarMenuDificultad) },&#10;                                        modifier = Modifier&#10;                                            .fillMaxWidth()&#10;                                            .menuAnchor(),&#10;                                        colors = ExposedDropdownMenuDefaults.outlinedTextFieldColors(),&#10;                                        singleLine = true&#10;                                    )&#10;                                    ExposedDropdownMenu(&#10;                                        expanded = mostrarMenuDificultad,&#10;                                        onDismissRequest = { mostrarMenuDificultad = false }&#10;                                    ) {&#10;                                        Dificultad.entries.forEach { dif -&gt;&#10;                                            DropdownMenuItem(&#10;                                                text = {&#10;                                                    Text(when(dif) {&#10;                                                        Dificultad.FACIL -&gt; &quot;Fácil&quot;&#10;                                                        Dificultad.MEDIA -&gt; &quot;Media&quot;&#10;                                                        Dificultad.DIFICIL -&gt; &quot;Difícil&quot;&#10;                                                    })&#10;                                                },&#10;                                                onClick = {&#10;                                                    dificultad = dif&#10;                                                    mostrarMenuDificultad = false&#10;                                                }&#10;                                            )&#10;                                        }&#10;                                    }&#10;                                }&#10;&#10;                                ExposedDropdownMenuBox(&#10;                                    expanded = mostrarMenuPrecio,&#10;                                    onExpandedChange = { mostrarMenuPrecio = it },&#10;                                    modifier = Modifier.weight(1f)&#10;                                ) {&#10;                                    OutlinedTextField(&#10;                                        value = when(precio) {&#10;                                            Precio.ECONOMICO -&gt; &quot;Bajo&quot;&#10;                                            Precio.MODERADO -&gt; &quot;Medio&quot;&#10;                                            Precio.COSTOSO -&gt; &quot;Alto&quot;&#10;                                        },&#10;                                        onValueChange = {},&#10;                                        readOnly = true,&#10;                                        label = { Text(&quot;Precio&quot;) },&#10;                                        trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = mostrarMenuPrecio) },&#10;                                        modifier = Modifier&#10;                                            .fillMaxWidth()&#10;                                            .menuAnchor(),&#10;                                        colors = ExposedDropdownMenuDefaults.outlinedTextFieldColors(),&#10;                                        singleLine = true&#10;                                    )&#10;                                    ExposedDropdownMenu(&#10;                                        expanded = mostrarMenuPrecio,&#10;                                        onDismissRequest = { mostrarMenuPrecio = false }&#10;                                    ) {&#10;                                        Precio.entries.forEach { p -&gt;&#10;                                            DropdownMenuItem(&#10;                                                text = {&#10;                                                    Text(when(p) {&#10;                                                        Precio.ECONOMICO -&gt; &quot;Bajo&quot;&#10;                                                        Precio.MODERADO -&gt; &quot;Medio&quot;&#10;                                                        Precio.COSTOSO -&gt; &quot;Alto&quot;&#10;                                                    })&#10;                                                },&#10;                                                onClick = {&#10;                                                    precio = p&#10;                                                    mostrarMenuPrecio = false&#10;                                                }&#10;                                            )&#10;                                        }&#10;                                    }&#10;                                }&#10;                            }&#10;&#10;                            // Info sobre vegetariana/vegana automático&#10;                            if (esVegetariana || esVegana) {&#10;                                Surface(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    color = MaterialTheme.colorScheme.primaryContainer.copy(alpha = 0.5f),&#10;                                    shape = MaterialTheme.shapes.small&#10;                                ) {&#10;                                    Row(&#10;                                        modifier = Modifier.padding(12.dp),&#10;                                        horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;                                        verticalAlignment = Alignment.CenterVertically&#10;                                    ) {&#10;                                        Text(&quot;ℹ️&quot;, style = MaterialTheme.typography.titleMedium)&#10;                                        Column {&#10;                                            if (esVegana) {&#10;                                                Text(&#10;                                                    &quot;Esta receta será marcada como Vegana &quot;,&#10;                                                    style = MaterialTheme.typography.bodySmall,&#10;                                                    color = MaterialTheme.colorScheme.onPrimaryContainer&#10;                                                )&#10;                                            } else if (esVegetariana) {&#10;                                                Text(&#10;                                                    &quot;Esta receta será marcada como Vegetariana &quot;,&#10;                                                    style = MaterialTheme.typography.bodySmall,&#10;                                                    color = MaterialTheme.colorScheme.onPrimaryContainer&#10;                                                )&#10;                                            }&#10;                                        }&#10;                                    }&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;&#10;                    // SECCIÓN: INGREDIENTES&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot; Ingredientes&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = ingredientes,&#10;                                onValueChange = { ingredientes = it },&#10;                                label = { Text(&quot;Escribe un ingrediente por línea&quot;) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                minLines = 5,&#10;                                maxLines = 8,&#10;                                placeholder = {&#10;                                    Text(&quot;Ejemplo:\n• 500g de pasta\n• 2 tomates grandes\n• 100ml aceite de oliva\n• Sal al gusto&quot;)&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    // SECCIÓN: PREPARACIÓN&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;‍ Pasos de Preparación&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = pasos,&#10;                                onValueChange = { pasos = it },&#10;                                label = { Text(&quot;Escribe un paso por línea&quot;) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                minLines = 6,&#10;                                maxLines = 10,&#10;                                placeholder = {&#10;                                    Text(&quot;Ejemplo:\n1. Hervir agua con sal\n2. Cocinar la pasta 10 minutos\n3. Escurrir bien\n4. Servir caliente&quot;)&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.saborforaneo.ui.screens.admin&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.*&#10;import androidx.compose.material.icons.automirrored.filled.List&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.window.Dialog&#10;import androidx.compose.ui.window.DialogProperties&#10;import com.example.saborforaneo.data.model.Dificultad&#10;import com.example.saborforaneo.data.model.Precio&#10;import com.example.saborforaneo.data.model.Receta&#10;import com.example.saborforaneo.util.Categorias&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun DialogoFormularioReceta(&#10;    titulo: String,&#10;    receta: Receta?,&#10;    onDismiss: () -&gt; Unit,&#10;    onGuardar: (Receta) -&gt; Unit&#10;) {&#10;    var nombre by remember { mutableStateOf(receta?.nombre ?: &quot;&quot;) }&#10;    var descripcion by remember { mutableStateOf(receta?.descripcion ?: &quot;&quot;) }&#10;    var imagenUrl by remember { mutableStateOf(receta?.imagenUrl ?: &quot;&quot;) }&#10;    var tiempoPreparacion by remember { mutableStateOf(receta?.tiempoPreparacion?.toString() ?: &quot;&quot;) }&#10;    var dificultad by remember { mutableStateOf(receta?.dificultad ?: Dificultad.MEDIA) }&#10;    var porciones by remember { mutableStateOf(receta?.porciones?.toString() ?: &quot;1&quot;) }&#10;    // Cambio: ahora es una lista de categorías seleccionadas&#10;    var categoriasSeleccionadas by remember {&#10;        mutableStateOf(&#10;            if (receta?.categoria?.isNotBlank() == true)&#10;                setOf(receta.categoria)&#10;            else&#10;                emptySet&lt;String&gt;()&#10;        )&#10;    }&#10;    var pais by remember { mutableStateOf(receta?.pais ?: &quot;&quot;) }&#10;    var ingredientes by remember { mutableStateOf((receta?.ingredientes ?: emptyList()).joinToString(&quot;\n&quot;)) }&#10;    var pasos by remember { mutableStateOf((receta?.pasos ?: emptyList()).joinToString(&quot;\n&quot;)) }&#10;    var precio by remember { mutableStateOf(receta?.precio ?: Precio.MODERADO) }&#10;&#10;    var mostrarMenuDificultad by remember { mutableStateOf(false) }&#10;    var mostrarMenuPrecio by remember { mutableStateOf(false) }&#10;&#10;    // Usar categorías centralizadas&#10;    val categorias = Categorias.listaCompleta&#10;&#10;    // Determinar automáticamente si es vegetariana/vegana según las categorías seleccionadas&#10;    val esVegetariana = categoriasSeleccionadas.any { it.equals(&quot;Vegetariana&quot;, ignoreCase = true) } ||&#10;                        categoriasSeleccionadas.any { it.equals(&quot;Vegana&quot;, ignoreCase = true) }&#10;    val esVegana = categoriasSeleccionadas.any { it.equals(&quot;Vegana&quot;, ignoreCase = true) }&#10;&#10;    Dialog(&#10;        onDismissRequest = onDismiss,&#10;        properties = DialogProperties(&#10;            dismissOnBackPress = true,&#10;            dismissOnClickOutside = false,&#10;            usePlatformDefaultWidth = false&#10;        )&#10;    ) {&#10;        Card(&#10;            modifier = Modifier&#10;                .fillMaxWidth(0.95f)&#10;                .fillMaxHeight(0.9f),&#10;            elevation = CardDefaults.cardElevation(defaultElevation = 8.dp)&#10;        ) {&#10;            Column(&#10;                modifier = Modifier.fillMaxSize()&#10;            ) {&#10;                // Encabezado&#10;                TopAppBar(&#10;                    title = { Text(titulo) },&#10;                    navigationIcon = {&#10;                        IconButton(onClick = onDismiss) {&#10;                            Icon(Icons.Default.Close, &quot;Cerrar&quot;)&#10;                        }&#10;                    },&#10;                    actions = {&#10;                        TextButton(&#10;                            onClick = {&#10;                                val nuevaReceta = Receta(&#10;                                    id = receta?.id ?: &quot;&quot;,&#10;                                    nombre = nombre,&#10;                                    descripcion = descripcion,&#10;                                    imagenUrl = imagenUrl,&#10;                                    tiempoPreparacion = tiempoPreparacion.toIntOrNull() ?: 0,&#10;                                    dificultad = dificultad,&#10;                                    porciones = porciones.toIntOrNull() ?: 1,&#10;                                    categoria = categoriasSeleccionadas.firstOrNull() ?: &quot;&quot;, // Categoría principal&#10;                                    pais = pais,&#10;                                    ingredientes = ingredientes.split(&quot;\n&quot;).filter { it.isNotBlank() },&#10;                                    pasos = pasos.split(&quot;\n&quot;).filter { it.isNotBlank() },&#10;                                    esVegetariana = esVegetariana,&#10;                                    esVegana = esVegana,&#10;                                    precio = precio&#10;                                )&#10;                                onGuardar(nuevaReceta)&#10;                            },&#10;                            enabled = nombre.isNotBlank() &amp;&amp; categoriasSeleccionadas.isNotEmpty()&#10;                        ) {&#10;                            Text(&quot;GUARDAR&quot;)&#10;                        }&#10;                    },&#10;                    colors = TopAppBarDefaults.topAppBarColors(&#10;                        containerColor = MaterialTheme.colorScheme.primaryContainer&#10;                    )&#10;                )&#10;&#10;                // Formulario con secciones&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxSize()&#10;                        .verticalScroll(rememberScrollState())&#10;                        .padding(16.dp),&#10;                    verticalArrangement = Arrangement.spacedBy(16.dp)&#10;                ) {&#10;                    // SECCIÓN: INFORMACIÓN BÁSICA&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot; Información Básica&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = nombre,&#10;                                onValueChange = { nombre = it },&#10;                                label = { Text(&quot;Nombre de la receta *&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Restaurant, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                singleLine = true&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = descripcion,&#10;                                onValueChange = { descripcion = it },&#10;                                label = { Text(&quot;Descripción&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Description, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                minLines = 3,&#10;                                maxLines = 4&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = imagenUrl,&#10;                                onValueChange = { imagenUrl = it },&#10;                                label = { Text(&quot;URL de la imagen&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Image, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                placeholder = { Text(&quot;https://images.unsplash.com/...&quot;) },&#10;                                supportingText = { Text(&quot;Usa una imagen de Unsplash o similar&quot;, style = MaterialTheme.typography.bodySmall) }&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    // SECCIÓN: DETALLES&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;⚙️ Detalles&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                            ) {&#10;                                OutlinedTextField(&#10;                                    value = tiempoPreparacion,&#10;                                    onValueChange = { tiempoPreparacion = it.filter { c -&gt; c.isDigit() } },&#10;                                    label = { Text(&quot;Tiempo (min)&quot;) },&#10;                                    leadingIcon = { Icon(Icons.Default.Timer, null) },&#10;                                    modifier = Modifier.weight(1f),&#10;                                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Number),&#10;                                    singleLine = true&#10;                                )&#10;&#10;                                OutlinedTextField(&#10;                                    value = porciones,&#10;                                    onValueChange = { porciones = it.filter { c -&gt; c.isDigit() } },&#10;                                    label = { Text(&quot;Porciones&quot;) },&#10;                                    leadingIcon = { Icon(Icons.Default.People, null) },&#10;                                    modifier = Modifier.weight(1f),&#10;                                    keyboardOptions = KeyboardOptions(keyboardType = KeyboardType.Number),&#10;                                    singleLine = true&#10;                                )&#10;                            }&#10;&#10;                            // Selector de categorías múltiples&#10;                            Column(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                            ) {&#10;                                Row(&#10;                                    verticalAlignment = Alignment.CenterVertically,&#10;                                    horizontalArrangement = Arrangement.spacedBy(4.dp)&#10;                                ) {&#10;                                    Icon(&#10;                                        Icons.Default.Category,&#10;                                        contentDescription = null,&#10;                                        tint = MaterialTheme.colorScheme.primary,&#10;                                        modifier = Modifier.size(20.dp)&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;Categorías *&quot;,&#10;                                        style = MaterialTheme.typography.labelLarge,&#10;                                        color = MaterialTheme.colorScheme.primary&#10;                                    )&#10;                                    Text(&#10;                                        text = &quot;(Selecciona una o más)&quot;,&#10;                                        style = MaterialTheme.typography.bodySmall,&#10;                                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                                    )&#10;                                }&#10;                                &#10;                                // Chips de categorías en grid&#10;                                FlowRow(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;                                    verticalArrangement = Arrangement.spacedBy(8.dp)&#10;                                ) {&#10;                                    categorias.forEach { cat -&gt;&#10;                                        val seleccionada = categoriasSeleccionadas.contains(cat)&#10;                                        FilterChip(&#10;                                            selected = seleccionada,&#10;                                            onClick = {&#10;                                                categoriasSeleccionadas = if (seleccionada) {&#10;                                                    categoriasSeleccionadas - cat&#10;                                                } else {&#10;                                                    categoriasSeleccionadas + cat&#10;                                                }&#10;                                            },&#10;                                            label = { &#10;                                                Text(&quot;${Categorias.obtenerIcono(cat)} $cat&quot;)&#10;                                            },&#10;                                            leadingIcon = if (seleccionada) {&#10;                                                {&#10;                                                    Icon(&#10;                                                        Icons.Default.Check,&#10;                                                        contentDescription = null,&#10;                                                        modifier = Modifier.size(18.dp)&#10;                                                    )&#10;                                                }&#10;                                            } else null&#10;                                        )&#10;                                    }&#10;                                }&#10;                                &#10;                                // Mostrar categorías seleccionadas&#10;                                if (categoriasSeleccionadas.isNotEmpty()) {&#10;                                    Surface(&#10;                                        modifier = Modifier.fillMaxWidth(),&#10;                                        color = MaterialTheme.colorScheme.secondaryContainer.copy(alpha = 0.5f),&#10;                                        shape = MaterialTheme.shapes.small&#10;                                    ) {&#10;                                        Column(&#10;                                            modifier = Modifier.padding(12.dp),&#10;                                            verticalArrangement = Arrangement.spacedBy(4.dp)&#10;                                        ) {&#10;                                            Text(&#10;                                                &quot;Categorías seleccionadas:&quot;,&#10;                                                style = MaterialTheme.typography.labelSmall,&#10;                                                color = MaterialTheme.colorScheme.onSecondaryContainer&#10;                                            )&#10;                                            Text(&#10;                                                categoriasSeleccionadas.joinToString(&quot;, &quot;),&#10;                                                style = MaterialTheme.typography.bodyMedium,&#10;                                                color = MaterialTheme.colorScheme.onSecondaryContainer,&#10;                                                fontWeight = FontWeight.Medium&#10;                                            )&#10;                                        }&#10;                                    }&#10;                                }&#10;                            }&#10;&#10;                            OutlinedTextField(&#10;                                value = pais,&#10;                                onValueChange = { pais = it },&#10;                                label = { Text(&quot;País de origen (opcional)&quot;) },&#10;                                leadingIcon = { Icon(Icons.Default.Public, null) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                singleLine = true,&#10;                                placeholder = { Text(&quot;Ecuador, México, Italia...&quot;) }&#10;                            )&#10;&#10;                            Row(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                            ) {&#10;                                ExposedDropdownMenuBox(&#10;                                    expanded = mostrarMenuDificultad,&#10;                                    onExpandedChange = { mostrarMenuDificultad = it },&#10;                                    modifier = Modifier.weight(1f)&#10;                                ) {&#10;                                    OutlinedTextField(&#10;                                        value = when(dificultad) {&#10;                                            Dificultad.FACIL -&gt; &quot;Fácil&quot;&#10;                                            Dificultad.MEDIA -&gt; &quot;Media&quot;&#10;                                            Dificultad.DIFICIL -&gt; &quot;Difícil&quot;&#10;                                        },&#10;                                        onValueChange = {},&#10;                                        readOnly = true,&#10;                                        label = { Text(&quot;Dificultad&quot;) },&#10;                                        trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = mostrarMenuDificultad) },&#10;                                        modifier = Modifier&#10;                                            .fillMaxWidth()&#10;                                            .menuAnchor(),&#10;                                        colors = ExposedDropdownMenuDefaults.outlinedTextFieldColors(),&#10;                                        singleLine = true&#10;                                    )&#10;                                    ExposedDropdownMenu(&#10;                                        expanded = mostrarMenuDificultad,&#10;                                        onDismissRequest = { mostrarMenuDificultad = false }&#10;                                    ) {&#10;                                        Dificultad.entries.forEach { dif -&gt;&#10;                                            DropdownMenuItem(&#10;                                                text = {&#10;                                                    Text(when(dif) {&#10;                                                        Dificultad.FACIL -&gt; &quot;Fácil&quot;&#10;                                                        Dificultad.MEDIA -&gt; &quot;Media&quot;&#10;                                                        Dificultad.DIFICIL -&gt; &quot;Difícil&quot;&#10;                                                    })&#10;                                                },&#10;                                                onClick = {&#10;                                                    dificultad = dif&#10;                                                    mostrarMenuDificultad = false&#10;                                                }&#10;                                            )&#10;                                        }&#10;                                    }&#10;                                }&#10;&#10;                                ExposedDropdownMenuBox(&#10;                                    expanded = mostrarMenuPrecio,&#10;                                    onExpandedChange = { mostrarMenuPrecio = it },&#10;                                    modifier = Modifier.weight(1f)&#10;                                ) {&#10;                                    OutlinedTextField(&#10;                                        value = when(precio) {&#10;                                            Precio.ECONOMICO -&gt; &quot;Bajo&quot;&#10;                                            Precio.MODERADO -&gt; &quot;Medio&quot;&#10;                                            Precio.COSTOSO -&gt; &quot;Alto&quot;&#10;                                        },&#10;                                        onValueChange = {},&#10;                                        readOnly = true,&#10;                                        label = { Text(&quot;Precio&quot;) },&#10;                                        trailingIcon = { ExposedDropdownMenuDefaults.TrailingIcon(expanded = mostrarMenuPrecio) },&#10;                                        modifier = Modifier&#10;                                            .fillMaxWidth()&#10;                                            .menuAnchor(),&#10;                                        colors = ExposedDropdownMenuDefaults.outlinedTextFieldColors(),&#10;                                        singleLine = true&#10;                                    )&#10;                                    ExposedDropdownMenu(&#10;                                        expanded = mostrarMenuPrecio,&#10;                                        onDismissRequest = { mostrarMenuPrecio = false }&#10;                                    ) {&#10;                                        Precio.entries.forEach { p -&gt;&#10;                                            DropdownMenuItem(&#10;                                                text = {&#10;                                                    Text(when(p) {&#10;                                                        Precio.ECONOMICO -&gt; &quot;Bajo&quot;&#10;                                                        Precio.MODERADO -&gt; &quot;Medio&quot;&#10;                                                        Precio.COSTOSO -&gt; &quot;Alto&quot;&#10;                                                    })&#10;                                                },&#10;                                                onClick = {&#10;                                                    precio = p&#10;                                                    mostrarMenuPrecio = false&#10;                                                }&#10;                                            )&#10;                                        }&#10;                                    }&#10;                                }&#10;                            }&#10;&#10;                            // Info sobre vegetariana/vegana automático&#10;                            if (esVegetariana || esVegana) {&#10;                                Surface(&#10;                                    modifier = Modifier.fillMaxWidth(),&#10;                                    color = MaterialTheme.colorScheme.primaryContainer.copy(alpha = 0.5f),&#10;                                    shape = MaterialTheme.shapes.small&#10;                                ) {&#10;                                    Row(&#10;                                        modifier = Modifier.padding(12.dp),&#10;                                        horizontalArrangement = Arrangement.spacedBy(8.dp),&#10;                                        verticalAlignment = Alignment.CenterVertically&#10;                                    ) {&#10;                                        Text(&quot;ℹ️&quot;, style = MaterialTheme.typography.titleMedium)&#10;                                        Column {&#10;                                            if (esVegana) {&#10;                                                Text(&#10;                                                    &quot;Esta receta será marcada como Vegana &quot;,&#10;                                                    style = MaterialTheme.typography.bodySmall,&#10;                                                    color = MaterialTheme.colorScheme.onPrimaryContainer&#10;                                                )&#10;                                            } else if (esVegetariana) {&#10;                                                Text(&#10;                                                    &quot;Esta receta será marcada como Vegetariana &quot;,&#10;                                                    style = MaterialTheme.typography.bodySmall,&#10;                                                    color = MaterialTheme.colorScheme.onPrimaryContainer&#10;                                                )&#10;                                            }&#10;                                        }&#10;                                    }&#10;                                }&#10;                            }&#10;                        }&#10;                    }&#10;&#10;                    // SECCIÓN: INGREDIENTES&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot; Ingredientes&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = ingredientes,&#10;                                onValueChange = { ingredientes = it },&#10;                                label = { Text(&quot;Escribe un ingrediente por línea&quot;) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                minLines = 5,&#10;                                maxLines = 8,&#10;                                placeholder = {&#10;                                    Text(&quot;Ejemplo:\n• 500g de pasta\n• 2 tomates grandes\n• 100ml aceite de oliva\n• Sal al gusto&quot;)&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    // SECCIÓN: PREPARACIÓN&#10;                    Card(&#10;                        modifier = Modifier.fillMaxWidth(),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.surfaceVariant.copy(alpha = 0.3f)&#10;                        )&#10;                    ) {&#10;                        Column(&#10;                            modifier = Modifier.padding(16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;‍ Pasos de Preparación&quot;,&#10;                                style = MaterialTheme.typography.titleMedium,&#10;                                color = MaterialTheme.colorScheme.primary&#10;                            )&#10;&#10;                            OutlinedTextField(&#10;                                value = pasos,&#10;                                onValueChange = { pasos = it },&#10;                                label = { Text(&quot;Escribe un paso por línea&quot;) },&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                minLines = 6,&#10;                                maxLines = 10,&#10;                                placeholder = {&#10;                                    Text(&quot;Ejemplo:\n1. Hervir agua con sal\n2. Cocinar la pasta 10 minutos\n3. Escurrir bien\n4. Servir caliente&quot;)&#10;                                }&#10;                            )&#10;                        }&#10;                    }&#10;&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>